{"version":3,"sources":["Cargador.js","ComponenteDrizzle.js","CrearTrabajo.js","ListarTrabajos.js","App.js","index.js"],"names":["Cargador","document","body","classList","add","remove","ComponenteDrizzle","props","state","ultimaTransaccion","idPilaUltimaTransaccion","iniciando","desubscribirse","estadoDrizzle","this","drizzle","store","getState","subscribirse","drizzleStatus","initialized","drizzleActualizado","activar","subscribe","desactivar","alerta","mensaje","tipo","status","error","message","clases","className","pantalla","nombreContrato","metodo","argumentos","valor","contrato","contracts","methods","push","from","accounts","value","cacheSend","apply","idUltimaTransaccion","transactionStack","transactions","setState","ultimaTransaccionEs","estado","Component","CrearTrabajo","idCrearTrabajo","descripcion","crearTransaccion","ultimaTransaccionEsExitosa","onSubmit","e","preventDefault","crearTrabajo","target","name","placeholder","required","autoFocus","type","ListarTrabajos","iniciado","trabajos","trabajoElegido","bolsaDeTrabajoRef","BolsaDeTrabajo","idTotalTrabajos","totalTrabajos","cacheCall","bolsaDeTrabajo","totalTrabajosRef","i","idTrabajos","trabajo","trabajoRef","direccionTrabajo","addContract","contractName","web3Contract","web3","eth","Contract","Trabajo","abi","data","deployedBytecode","metodos","forEach","idTrabajo","estadoTrabajo","metodosCompletados","datosTrabajo","balance","direccion","ofertas","getBalance","then","totalOfertas","j","oferta","trabajador","precio","definicionPruebas","fechaFinalizacion","ofertaElegida","length","scope","map","salida","esEmprendedor","emprendedor","obtenerDireccion","acciones","insignia","permitirCancelar","data-target","data-toggle","onClick","Date","now","solicitarCierre","disabled","cancelar","accion","id","tabIndex","role","form","ofertar","parse","$","modal","find","val","data-dismiss","aria-label","aria-hidden","min","parseInt","toLocaleString","aceptarOferta","App","menu","titulo","item","href","cargarPantalla","React","createElement","Drizzle","fallback","url","root","getElementById","ReactDOM","render","window","ethereum","on","location","reload"],"mappings":"2tnVAEqBA,G,8GAEjBC,SAASC,KAAKC,UAAUC,IAAK,c,mCAI7BH,SAASC,KAAKC,UAAUE,OAAQ,gB,MCLfC,E,kDAWnB,WAAaC,GAAS,IAAD,8BACnB,cAAOA,IAXTC,MAAQ,CACNC,kBAAoB,MASD,EANrBC,wBAA0B,KAML,EAJrBC,WAAY,EAIS,EAFrBC,eAAiB,KAEI,E,gEAKnB,IAAMC,EAAgBC,KAAKP,MAAMQ,QAAQC,MAAMC,WAE/CH,KAAKI,eAEAL,EAAcM,cAAcC,YAC/BN,KAAKO,sBAELP,KAAKH,WAAY,EAEjBX,EAASsB,a,qCAIG,IAAD,OACLN,EAAUF,KAAKP,MAAMQ,QAArBC,MAERF,KAAKF,eAAiBI,EAAMO,WAAW,WACfP,EAAMC,WAETE,cAAcC,cAC1B,EAAKT,YACRX,EAASwB,aAET,EAAKb,WAAY,GAGnB,EAAKU,2B,6CAMTP,KAAKF,mB,+BAIL,IAAMH,EAAoBK,KAAKN,MAAMC,kBAEjCgB,EAAS,KAEb,GAAKhB,EAAoB,CACvB,IACIiB,EADAC,EAAO,KAGX,OAASlB,EAAkBmB,QACzB,IAAK,UACHF,EAAU,yBACVC,EAAU,UACV,MACF,IAAK,UACHD,EAAU,2BACVC,EAAU,UACV,MACF,IAAK,QACHD,EAAU,0CAA4CjB,EAAkBoB,MAAMC,QAC9EH,EAAU,SAId,GAAKA,EAAO,CACV,IAAMI,EAAS,eAAiBJ,EAEhCF,EAAS,qBAAKO,UAAYD,EAAjB,SAA4BL,KAIzC,OAAO,gCACHD,EACAX,KAAKmB,gB,uCAKOC,EAAgBC,GAAsC,IAA9BC,EAA6B,uDAAhB,GAAIC,EAAY,uDAAJ,EACjErC,EAASsB,UAEH,IAAEP,EAAYD,KAAKP,MAAjBQ,QACFuB,EAAcvB,EAAQwB,UAAWL,GAGrCI,GACGA,EAASE,QAASL,KAErBC,EAAWK,KAAM,CACbC,KAAQ3B,EAAQC,MAAMC,WAAW0B,SAAS,GAC1CC,MAAQP,IAGZvB,KAAKN,MAAMC,kBAAoB,KAE/BK,KAAKJ,wBAA0B4B,EAASE,QAASL,GAASU,UAAUC,MAAO,KAAMV,M,2CAKnF,GAAK,OAAStB,KAAKJ,wBAA0B,CAC3C,IAAMG,EAAsBC,KAAKP,MAAMQ,QAAQC,MAAMC,WAC/C8B,EAAsBlC,EAAcmC,iBAAkBlC,KAAKJ,yBAC3DD,EAAsBI,EAAcoC,aAAcF,GAExDjC,KAAKoC,SAAU,CAAEzC,uBAGfK,KAAKqC,oBAAqB,YACvBrC,KAAKqC,oBAAqB,WAE7BnD,EAASwB,gB,0CAKM4B,GACnB,IAAM3C,EAAoBK,KAAKN,MAAMC,kBAErC,OAAOA,GAAqBA,EAAkBmB,SAAWwB,I,mDAIzD,OAAOtC,KAAKqC,oBAAqB,a,yCAIjC,OAAOrC,KAAKP,MAAMQ,QAAQC,MAAMC,WAAW0B,SAAS,O,GA1ITU,aCD1BC,E,4MACpBC,eAAiB,K,2DAEFC,GACZ1C,KAAK2C,iBAAkB,iBAAkB,eAAgB,CAAED,M,iCAGjD,IACNA,EADK,OAOT,OAJK1C,KAAK4C,+BACRF,EAAc,IAGT,uBAAMG,SAAW,SAAAC,GAAOA,EAAEC,iBAAkB,EAAKC,aAAcF,EAAEG,OAAOP,YAAYZ,QAApF,UACL,qBAAKZ,UAAU,aAAf,SACE,0BAAUgC,KAAK,cAAcC,YAAY,iBAAcjC,UAAU,eAAekC,UAAQ,EAACC,WAAS,EAACvB,MAAQY,MAE7G,uBAAOY,KAAK,SAASpC,UAAU,2B,GAlBK1B,G,0CCErB+D,E,kDAOnB,WAAa9D,GAAS,IAAD,8BACnB,cAAOA,IAPT+D,UAAW,EAST,EAAK9D,MAAM+D,SAAW,GAEtB,EAAK/D,MAAMgE,eAAiB,KALT,E,iEAQC,IAAD,OACnB,2EAEA1D,KAAKF,iBAEC,IAAEG,EAAkBD,KAAKP,MAAvBQ,QAEFF,EADoBE,EAAlBC,MACwBC,WAC1BwD,EAAoB1D,EAAQwB,UAAUmC,eAErCL,EAAeM,kBAClBN,EAAeM,gBAAkBF,EAAkBjC,QAAQoC,cAAcC,aAG7E,IAAMC,EAAoBjE,EAAc0B,UAAUmC,eAC5CK,EAAoBD,EAAeF,cAAeP,EAAeM,iBACjEJ,EAAoB,GAE1B,GAAKQ,EAAmB,CACtB,IAAMH,EAAgBG,EAAiBnC,MAEvC,GAAKgC,EACH,IADoB,IAAD,WACTI,GACDX,EAAeY,WAAYD,KAChCX,EAAeY,WAAYD,GAAM,CAC/BE,QAAUT,EAAkBjC,QAAQ+B,SAASM,UAAWG,KAI5D,IAAMG,EAAaL,EAAeP,SAAUF,EAAeY,WAAYD,GAAIE,SAE3E,GAAKC,EAAa,CAChB,IAAMC,EAAmBD,EAAWvC,MAepC,GAbO7B,EAAQwB,UAAW6C,IACxBrE,EAAQsE,YAAa,CACnBC,aAAeF,EACfG,aAAe,IAAIxE,EAAQyE,KAAKC,IAAIC,SAClCC,EAAQC,IACRR,EACA,CACES,KAAOF,EAAQG,qBAMlB/E,EAAQwB,UAAW6C,GAAqB,CAC3C,IAAMF,EAAUnE,EAAQwB,UAAW6C,GAC7BW,EAAU,CACR,cACA,gBACA,cACA,gBAGRA,EAAQC,SAAS,SAAE7D,GACVkC,EAAeY,WAAYD,GAAK7C,KACrCkC,EAAeY,WAAYD,GAAK7C,GAAW+C,EAAQ1C,QAASL,GAAS0C,gBAIzE,IAAMoB,EAAgB5B,EAAeY,WAAYD,GAC3CkB,EAAgBrF,EAAc0B,UAAW6C,GAE/C,GAAKc,EAAgB,CACnB,IAAIC,GAAqB,EAQzB,GANAJ,EAAQC,SAAS,SAAE7D,GACZ,qBAAuB+D,EAAe/D,GAAUkC,EAAeY,WAAYD,GAAK7C,MACnFgE,GAAqB,MAIpBA,EAAqB,CACxB,IAAMC,EAAe,CACnBC,SAAa,EACbC,UAAYlB,EACZmB,QAAY,IAiBd,GAdAR,EAAQC,SAAS,SAAE7D,GAAF,OAAciE,EAAcjE,GAAW+D,EAAe/D,GAAU8D,EAAW9D,IAAWS,SAE/FyB,EAAeY,WAAYD,GAAIuB,UACrClC,EAAeY,WAAYD,GAAIuB,QAAU,IAG3CxF,EAAQyE,KAAKC,IAAIe,WAAYpB,GAAmBqB,MAAM,SAAAJ,GAC/C,EAAK7F,MAAM+D,SAAUS,KACxB,EAAKxE,MAAM+D,SAAUS,GAAIqB,QAAUA,EAEnC,EAAKnD,SAAU,CAAEqB,SAAW,EAAK/D,MAAM+D,eAItC6B,EAAaM,aAChB,IAAM,IAAIC,EAAI,EAAGA,EAAIP,EAAaM,aAAcC,IAK9C,GAJOtC,EAAeY,WAAYD,GAAIuB,QAASI,KAC7CtC,EAAeY,WAAYD,GAAIuB,QAASI,GAAMzB,EAAQ1C,QAAQ+D,QAAQ1B,UAAW8B,IAG9E,qBAAuBT,EAAcK,QAASlC,EAAeY,WAAYD,GAAIuB,QAASI,IAAQ,CACjG,IAAMC,EAASV,EAAcK,QAASlC,EAAeY,WAAYD,GAAIuB,QAASI,IAAM/D,MAEpFwD,EAAaG,QAAQ9D,KAAM,CACzBoE,WAAoBD,EAAOC,WAC3BC,OAAoBF,EAAOE,OAC3BtD,YAAoBoD,EAAOpD,YAC3BuD,kBAAoBH,EAAOG,kBAC3BC,kBAAoBJ,EAAOI,oBAMnCzC,EAAS9B,KAAM2D,QA7FfpB,EAAI,EAAGA,EAAIJ,EAAeI,IAAO,EAAjCA,GAsGdlE,KAAKI,eAELJ,KAAKoC,SAAU,CAAEqB,e,8BAGVW,EAAS4B,EAAQC,EAAmBvD,EAAawD,GACxDlG,KAAK2C,iBACHyB,EACA,UACA,CACE4B,EACAC,EACAvD,EACAwD,M,oCAKS9B,EAAS+B,EAAe5E,GACrCvB,KAAK2C,iBACHyB,EACA,gBACA,CACE+B,GAEF5E,K,sCAIa6C,GACfpE,KAAK2C,iBACHyB,EACA,qB,+BAIMA,GACYpE,KAAKP,MAAjBQ,QAERD,KAAK2C,iBAAkByB,EAAS,c,iCAGtB,IAAD,OACT,OAAO,gCACHpE,KAAKN,MAAM+D,SAAS2C,OACtB,wBAAOlF,UAAU,QAAjB,UACE,gCACE,+BACE,oBAAImF,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAMnF,UAAU,cAA1B,qBACA,oBAAImF,MAAM,MAAMnF,UAAU,cAA1B,4BACA,oBAAImF,MAAM,MAAMnF,UAAU,cAA1B,oBACA,oBAAImF,MAAM,MAAMnF,UAAU,aAA1B,2BAGJ,gCACElB,KAAKN,MAAM+D,SAAS6C,KAAK,SAAElC,EAASF,GACpC,IAAIqC,EAAS,KAEb,IAA0B,IAArBnC,EAAQmB,QAAiB,CACN,EAAK9F,MAAnBQ,QACsByE,KADxB,IAEA8B,EAAgBpC,EAAQqC,cAAgB,EAAKC,mBAC7CC,EAAgB,GAElBC,EAAmB,KACnBtE,EAAmB,KACnBuE,GAAmB,EAEhBzC,EAAQqC,aAGuB,GAA1BrC,EAAQ+B,eAClB7D,EAAS,UACTsE,EAAW,UAENJ,EACEpC,EAAQqB,QAAQW,QACnBO,EAAShF,KAAM,wBAAQT,UAAU,kBAAkB4F,cAAY,WAAWC,cAAY,QAAQC,QAAU,kBAAM,EAAK5E,SAAU,CAAEsB,eAAiBU,KAAjI,0BAGjBuC,EAAShF,KAAM,wBAAQT,UAAU,kBAAkB4F,cAAY,UAAUC,cAAY,QAAQC,QAAU,kBAAM,EAAK5E,SAAU,CAAEsB,eAAiBU,KAAhI,2BAGjByC,GAAmB,GAEK,GAAnBzC,EAAQmB,SACXjD,EAAS,YACTsE,EAAW,aAEc,GAApBxC,EAAQmB,SACXjD,EAAS,YACTsE,EAAW,YAEXC,GAAmB,GACTzC,EAAQmB,QAAU,IAC5BjD,EAAS,UACTsE,EAAW,YAIgB,IAA3BxC,EAAQ+B,eACL/B,EAAQqB,QAASrB,EAAQ+B,gBACoC,IAA7D/B,EAAQqB,QAASrB,EAAQ+B,eAAgBD,mBAA4Be,KAAKC,OAC7EP,EAAShF,KAAM,wBAAQT,UAAU,kBAAkB8F,QAAU,SAAElE,GAASA,EAAEC,iBAAkB,EAAKoE,gBAAiB/C,EAAQoB,YAAiB4B,SAAsB,cAAX9E,EAAvI,+BAGjBuE,GAAmB,IArCrBvE,EAAS,YACTsE,EAAW,UAyCXC,GACGL,GAEHG,EAAShF,KAAM,wBAAQT,UAAU,iBAAiB8F,QAAU,SAAElE,GAASA,EAAEC,iBAAkB,EAAKsE,SAAUjD,EAAQoB,YAAnG,uBAGjBe,EAAS,+BACP,oBAAIrF,UAAU,eAAd,SAA6B,+BAAQkD,EAAQoB,cAC7C,oBAAItE,UAAU,2BAAd,SAAyC,+BAAQkD,EAAQqC,gBACzD,oBAAIvF,UAAU,2BAAd,SAA2CkD,EAAQ1B,cACnD,oBAAIxB,UAAU,2BAAd,SAAyC,sBAAMA,UAAY,8BAAgC0F,EAAlD,SAA+DtE,MACxG,oBAAIpB,UAAU,sCAAd,SAAsDyF,EAASL,KAAK,SAAEgB,EAAQpD,GAAV,OAAiB,iCAAkBA,EAAI,IAAM,GAAMoD,IAAtBpD,UALhFA,GASrB,OAAOqC,UAGA,qBAAKrF,UAAU,sBAAf,6CACd,qBAAKA,UAAU,QAAQqG,GAAG,SAASC,SAAS,KAAKC,KAAK,SAAtD,SACC,qBAAKvG,UAAU,eAAeuG,KAAK,WAAnC,SACC,uBAAMvG,UAAU,gBAAgB2B,SAAW,SAAAC,GAC1CA,EAAEC,iBAEF,IAAM2E,EAAO5E,EAAEG,OAEf,EAAK0E,QACG,EAAKjI,MAAMgE,eAAe8B,UACjCkC,EAAK1B,OAAOlE,MACZ4F,EAAKzB,kBAAkBnE,MACvB4F,EAAKhF,YAAYZ,MACjBmF,KAAKW,MAAOF,EAAKxB,kBAAkBpE,OAAU,KAG9C+F,IAAG,WAAYC,MAAO,QAASC,KAAM,UAAWC,IAAK,KAbtD,UAeC,sBAAK9G,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,0BACA,wBAAQoC,KAAK,SAASpC,UAAU,QAAQ+G,eAAa,QAAQC,aAAW,SAAxE,SACC,sBAAMC,cAAY,OAAlB,uBAGF,sBAAKjH,UAAU,aAAf,UACC,qBAAKA,UAAU,aAAf,SACC,uBAAOoC,KAAK,SAAS8E,IAAI,IAAIlF,KAAK,SAAShC,UAAU,eAAeiC,YAAY,SAASC,UAAQ,EAACC,WAAS,MAE5G,qBAAKnC,UAAU,aAAf,SACC,0BAAUgC,KAAK,oBAAoBC,YAAY,2BAAwBjC,UAAU,mBAElF,qBAAKA,UAAU,aAAf,SACC,0BAAUgC,KAAK,cAAcC,YAAY,iBAAcjC,UAAU,mBAElE,qBAAKA,UAAU,aAAf,SACC,uBAAOoC,KAAK,OAAOJ,KAAK,oBAAoBhC,UAAU,eAAeiC,YAAY,2BAAwBC,UAAQ,SAGnH,sBAAKlC,UAAU,eAAf,UACC,wBAAQoC,KAAK,SAASpC,UAAU,kBAAhC,oBACA,wBAAQoC,KAAK,SAASpC,UAAU,oBAAoB+G,eAAa,QAAjE,gCAKJ,qBAAK/G,UAAU,QAAQqG,GAAG,UAAUC,SAAS,KAAKC,KAAK,SAAvD,SACC,qBAAKvG,UAAU,wBAAwBuG,KAAK,WAA5C,SACC,sBAAKvG,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,qBACA,wBAAQoC,KAAK,SAASpC,UAAU,QAAQ+G,eAAa,QAAQC,aAAW,SAAxE,SACC,sBAAMC,cAAY,OAAlB,uBAGF,qBAAKjH,UAAU,aAAf,SACQ,wBAAOA,UAAU,QAAjB,UACE,gCACE,+BACE,oBAAImF,MAAM,MAAV,wBACA,oBAAIA,MAAM,MAAMnF,UAAU,cAA1B,oBACA,oBAAImF,MAAM,MAAMnF,UAAU,cAA1B,sCACA,oBAAImF,MAAM,MAAMnF,UAAU,cAA1B,4BACA,oBAAImF,MAAM,MAAMnF,UAAU,cAA1B,sCACA,oBAAImF,MAAM,MAAMnF,UAAU,aAA1B,2BAGJ,gCACElB,KAAKN,MAAMgE,eAAiB1D,KAAKN,MAAMgE,eAAe+B,QAAQa,KAAK,SAAER,EAAQ5B,GAC7E,OAAO,+BACL,oBAAIhD,UAAU,eAAd,SAA6B,+BAAQ4E,EAAOC,eAC5C,oBAAI7E,UAAU,2BAAd,SAAyC,mCAAU4E,EAAOE,OAAjB,YACzC,oBAAI9E,UAAU,2BAAd,SAA2C4E,EAAOG,oBAClD,oBAAI/E,UAAU,2BAAd,SAA2C4E,EAAOpD,cAClD,oBAAIxB,UAAU,2BAAd,SAA2C,IAAI+F,KAA6C,IAAvCoB,SAAUvC,EAAOI,oBAA6BoC,mBACnG,oBAAIpH,UAAU,0BAAd,SAAwC,mBAAGA,UAAU,kBAAkB8F,QAAU,SAAAlE,GAC/EA,EAAEC,iBAEI,IAAEW,EAAoB,EAAKhE,MAAzBgE,eACFoC,EAAsBpC,EAAe+B,QAASvB,GAEpD,EAAKqE,cAAe7E,EAAe8B,UAAWtB,EAAG4B,EAAOE,QAExD6B,IAAG,YAAaC,MAAO,SARe,gCANzB5D,MAiBb,YAIhB,qBAAKhD,UAAU,eAAf,SACC,wBAAQoC,KAAK,SAASpC,UAAU,oBAAoB+G,eAAa,QAAjE,oC,GAvWqCzI,GAAvB+D,EAGZM,gBAAkB,KAHNN,EAKZY,WAAa,G,ICJDqE,E,kDACnB,WAAa/I,GAAS,IAAD,8BACnB,cAAOA,IAEFC,MAAMyB,SAAW,KAHH,E,2DAMLA,GACdnB,KAAKoC,SAAU,CAAEjB,e,iCAGP,IAAD,OACHsH,EAAO,CACX,CACEC,OAAW,gBACXvH,SAAWqB,GAEb,CACEkG,OAAW,kBACXvH,SAAWoC,IAIf,OAAO,sBAAKrC,UAAU,YAAf,UACL,uDACA,oBAAIA,UAAU,eAAd,SACIuH,EAAKnC,KAAK,SAAEqC,EAAMzE,GAAR,OAAe,oBAAchD,UAAU,WAAxB,SACzB,mBAAGA,UAAY,YAAe,EAAKxB,MAAMyB,UAAYwH,EAAKxH,SAAW,UAAY,IAAOyH,KAAK,IAAI5B,QAAU,SAAElE,GAASA,EAAEC,iBAAkB,EAAK8F,eAAgBF,EAAKxH,WAApK,SAAqLwH,EAAKD,UADvJxE,QAKvC,qBAAKhD,UAAU,OAAf,SAAwBlB,KAAKN,MAAMyB,SAAW2H,IAAMC,cAAe/I,KAAKN,MAAMyB,SAAU,CAAElB,QAAUD,KAAKP,MAAMQ,UAAc,c,GA/BlGT,G,kBCG3BS,EAAU,IAAI+I,UAAS,CAC3BvH,UAAW,CAAEmC,GACbc,KAAM,CACJuE,SAAU,CACR3F,KAAM,KACN4F,IAAK,0BAILC,EAAOhK,SAASiK,eAAgB,QAEjCD,GACHE,IAASC,OAAQ,cAAC,EAAD,CAAKrJ,QAASA,IAAakJ,GAGzCI,OAAOC,WACVD,OAAOC,SAASC,GAAI,kBAAkB,WACpCF,OAAOG,SAASC,YAGlBJ,OAAOC,SAASC,GAAI,mBAAmB,WACrCF,OAAOG,SAASC,e","file":"static/js/main.21982c77.chunk.js","sourcesContent":["import './Cargador.css';\n\nexport default class Cargador {\n  static activar() {\n    document.body.classList.add( 'cargando' );\n  }\n\n  static desactivar() {\n    document.body.classList.remove( 'cargando' );\n  }\n}\n","import { Component } from 'react';\nimport Cargador from './Cargador';\n\nexport default class ComponenteDrizzle extends Component {\n  state = {\n    ultimaTransaccion : null,\n  };\n\n  idPilaUltimaTransaccion = null;\n\n  iniciando = false;\n\n  desubscribirse = null;\n\n  constructor( props ) {\n    super( props );\n  }\n\n  componentDidMount() {\n    const estadoDrizzle = this.props.drizzle.store.getState();\n\n    this.subscribirse();\n\n    if ( estadoDrizzle.drizzleStatus.initialized ) {\n      this.drizzleActualizado();\n    } else {\n      this.iniciando = true;\n\n      Cargador.activar();\n    }\n  }\n\n  subscribirse() {\n    const { store } = this.props.drizzle;\n\n    this.desubscribirse = store.subscribe( () => {\n      const estadoDrizzle = store.getState();\n\n      if ( estadoDrizzle.drizzleStatus.initialized ) {\n        if ( this.iniciando ) {\n          Cargador.desactivar();\n\n          this.iniciando = false;\n        }\n\n        this.drizzleActualizado();\n      }\n    } );\n  }\n\n  componentWillUnmount() {\n    this.desubscribirse();\n  }\n\n  render() {\n    const ultimaTransaccion = this.state.ultimaTransaccion;\n\n    let alerta = null;\n\n    if ( ultimaTransaccion ) {\n      let tipo = null,\n          mensaje;\n\n      switch ( ultimaTransaccion.status ) {\n        case 'success':\n          mensaje = 'Transacción exitosa';\n          tipo    = 'success';\n          break;\n        case 'pending':\n          mensaje = 'Transacción pendiente';\n          tipo    = 'warning';\n          break;\n        case 'error':\n          mensaje = 'Ha habido un error con la transaccion: ' + ultimaTransaccion.error.message;\n          tipo    = 'danger';\n          break;\n      }\n\n      if ( tipo ) {\n        const clases = 'alert alert-' + tipo;\n\n        alerta = <div className={ clases }>{ mensaje }</div>;\n      }\n    }\n\n    return <div>\n      { alerta }\n      { this.pantalla() }\n    </div>\n    ;\n  }\n\n  crearTransaccion( nombreContrato, metodo, argumentos = [], valor = 0 ) {\n    Cargador.activar();\n\n    const { drizzle } = this.props,\n          contrato    = drizzle.contracts[ nombreContrato ];\n\n    if (\n      contrato\n      && contrato.methods[ metodo ]\n    ) {\n      argumentos.push( {\n          from  : drizzle.store.getState().accounts[0],\n          value : valor\n      } );\n\n      this.state.ultimaTransaccion = null;\n\n      this.idPilaUltimaTransaccion = contrato.methods[ metodo ].cacheSend.apply( null, argumentos );\n    }\n  }\n\n  drizzleActualizado() {\n    if ( null !== this.idPilaUltimaTransaccion ) {\n      const estadoDrizzle       = this.props.drizzle.store.getState(),\n            idUltimaTransaccion = estadoDrizzle.transactionStack[ this.idPilaUltimaTransaccion ],\n            ultimaTransaccion   = estadoDrizzle.transactions[ idUltimaTransaccion ];\n\n      this.setState( { ultimaTransaccion } );\n\n      if (\n        this.ultimaTransaccionEs( 'success' )\n        || this.ultimaTransaccionEs( 'error' )\n      ) {\n        Cargador.desactivar();\n      }\n    }\n  }\n\n  ultimaTransaccionEs( estado ) {\n    const ultimaTransaccion = this.state.ultimaTransaccion;\n\n    return ultimaTransaccion && ultimaTransaccion.status === estado;\n  }\n\n  ultimaTransaccionEsExitosa() {\n    return this.ultimaTransaccionEs( 'success' );\n  }\n\n  obtenerDireccion() {\n    return this.props.drizzle.store.getState().accounts[0];\n  }\n}\n","import ComponenteDrizzle from './ComponenteDrizzle';\n\nexport default class CrearTrabajo extends ComponenteDrizzle {\n\tidCrearTrabajo = null;\n\n  crearTrabajo( descripcion ) {\n    this.crearTransaccion( 'BolsaDeTrabajo', 'crearTrabajo', [ descripcion ] );\n  }\n\n  pantalla() {\n    let descripcion;\n\n    if ( this.ultimaTransaccionEsExitosa() ) {\n      descripcion = '';\n    }\n\n    return <form onSubmit={ e => { e.preventDefault(); this.crearTrabajo( e.target.descripcion.value ) } }>\n      <div className=\"form-group\">\n        <textarea name=\"descripcion\" placeholder=\"Descripción\" className=\"form-control\" required autoFocus value={ descripcion }></textarea>\n      </div>\n      <input type=\"submit\" className=\"btn btn-primary\" />\n    </form>;\n  }\n}\n","import Trabajo from './contracts/Trabajo.json';\nimport ComponenteDrizzle from './ComponenteDrizzle';\nimport $ from 'jquery';\n\nexport default class ListarTrabajos extends ComponenteDrizzle {\n  iniciado = false;\n\n  static idTotalTrabajos = null;\n\n  static idTrabajos = {};\n\n  constructor( props ) {\n    super( props );\n\n    this.state.trabajos = [];\n\n    this.state.trabajoElegido = null;\n  }\n\n  drizzleActualizado() {\n    super.drizzleActualizado();\n\n    this.desubscribirse();\n\n    const { drizzle }       = this.props,\n          { store }         = drizzle,\n          estadoDrizzle     = store.getState(),\n          bolsaDeTrabajoRef = drizzle.contracts.BolsaDeTrabajo;\n\n    if ( ! ListarTrabajos.idTotalTrabajos ) {\n        ListarTrabajos.idTotalTrabajos = bolsaDeTrabajoRef.methods.totalTrabajos.cacheCall();\n    }\n\n    const bolsaDeTrabajo    = estadoDrizzle.contracts.BolsaDeTrabajo,\n          totalTrabajosRef  = bolsaDeTrabajo.totalTrabajos[ ListarTrabajos.idTotalTrabajos ],\n          trabajos          = [];\n\n    if ( totalTrabajosRef ) {\n      const totalTrabajos = totalTrabajosRef.value;\n\n      if ( totalTrabajos ) {\n        for ( let i = 0; i < totalTrabajos; i++ ) {\n          if ( ! ListarTrabajos.idTrabajos[ i ] ) {\n            ListarTrabajos.idTrabajos[ i ] = {\n              trabajo : bolsaDeTrabajoRef.methods.trabajos.cacheCall( i ),\n            };\n          }\n\n          const trabajoRef = bolsaDeTrabajo.trabajos[ ListarTrabajos.idTrabajos[ i ].trabajo ];\n\n          if ( trabajoRef ) {\n            const direccionTrabajo = trabajoRef.value;\n\n            if ( ! drizzle.contracts[ direccionTrabajo ] ) {\n              drizzle.addContract( {\n                contractName : direccionTrabajo,\n                web3Contract : new drizzle.web3.eth.Contract(\n                  Trabajo.abi,\n                  direccionTrabajo,\n                  {\n                    data : Trabajo.deployedBytecode,\n                  }\n                ),\n              } );\n            }\n\n            if ( drizzle.contracts[ direccionTrabajo ] ) {\n              const trabajo = drizzle.contracts[ direccionTrabajo ],\n                    metodos = [\n                      'emprendedor',\n                      'ofertaElegida',\n                      'descripcion',\n                      'totalOfertas',\n                    ];\n\n              metodos.forEach( ( metodo ) => {\n                if ( ! ListarTrabajos.idTrabajos[ i ][ metodo ] ) {\n                  ListarTrabajos.idTrabajos[ i ][ metodo ] = trabajo.methods[ metodo ].cacheCall();\n                }\n              } );\n\n              const idTrabajo     = ListarTrabajos.idTrabajos[ i ],\n                    estadoTrabajo = estadoDrizzle.contracts[ direccionTrabajo ];\n\n              if ( estadoTrabajo ) {\n                let metodosCompletados = true;\n\n                metodos.forEach( ( metodo ) => {\n                  if ( 'undefined' === typeof estadoTrabajo[ metodo ][ ListarTrabajos.idTrabajos[ i ][ metodo ] ] ) {\n                    metodosCompletados = false;\n                  }\n                } );\n\n                if ( metodosCompletados ) {\n                  const datosTrabajo = {\n                    balance   : -1,\n                    direccion : direccionTrabajo,\n                    ofertas   : [],\n                  };\n\n                  metodos.forEach( ( metodo ) => datosTrabajo[ metodo ] = estadoTrabajo[ metodo ][ idTrabajo[ metodo ] ].value );\n\n                  if ( !  ListarTrabajos.idTrabajos[ i ].ofertas ) {\n                    ListarTrabajos.idTrabajos[ i ].ofertas = {};\n                  }\n\n                  drizzle.web3.eth.getBalance( direccionTrabajo ).then( balance => { \n                    if ( this.state.trabajos[ i ] ) {\n                      this.state.trabajos[ i ].balance = balance;\n\n                      this.setState( { trabajos : this.state.trabajos } );\n                    }\n                  } );\n\n                  if ( datosTrabajo.totalOfertas ) {\n                    for ( let j = 0; j < datosTrabajo.totalOfertas; j++ ) {\n                      if ( ! ListarTrabajos.idTrabajos[ i ].ofertas[ j ] ) {\n                        ListarTrabajos.idTrabajos[ i ].ofertas[ j ] = trabajo.methods.ofertas.cacheCall( j );\n                      }\n\n                      if ( 'undefined' !== typeof estadoTrabajo.ofertas[ ListarTrabajos.idTrabajos[ i ].ofertas[ j ] ] ) {\n                        const oferta = estadoTrabajo.ofertas[ ListarTrabajos.idTrabajos[ i ].ofertas[ j ] ].value;\n\n                        datosTrabajo.ofertas.push( {\n                          trabajador        : oferta.trabajador,\n                          precio            : oferta.precio,\n                          descripcion       : oferta.descripcion,\n                          definicionPruebas : oferta.definicionPruebas,\n                          fechaFinalizacion : oferta.fechaFinalizacion,\n                        } );\n                      }\n                    }\n                  }\n\n                  trabajos.push( datosTrabajo );\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    this.subscribirse();\n\n    this.setState( { trabajos } );\n  }\n\n  ofertar( trabajo, precio, definicionPruebas, descripcion, fechaFinalizacion ) {\n    this.crearTransaccion(\n      trabajo,\n      'ofertar',\n      [\n        precio,\n        definicionPruebas,\n        descripcion,\n        fechaFinalizacion\n      ]\n    );\n  }\n\n  aceptarOferta( trabajo, ofertaElegida, valor ) {\n    this.crearTransaccion(\n      trabajo,\n      'aceptarOferta',\n      [\n        ofertaElegida,\n      ],\n      valor\n    );\n  }\n\n  solicitarCierre( trabajo ) {\n    this.crearTransaccion(\n      trabajo,\n      'solicitarCierre'\n    );\n  }\n\n  cancelar( trabajo ) {\n    const { drizzle } = this.props;\n\n    this.crearTransaccion( trabajo, 'cancelar' );\n  }\n\n  pantalla() {\n    return <div>\n      { this.state.trabajos.length ?\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Dirección</th>\n            <th scope=\"col\" className=\"text-center\">Creador</th>\n            <th scope=\"col\" className=\"text-center\">Descripción</th>\n            <th scope=\"col\" className=\"text-center\">Estado</th>\n            <th scope=\"col\" className=\"text-right\">Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n        { this.state.trabajos.map( ( trabajo, i ) => {\n          let salida = null;\n\n          if ( trabajo.balance !== -1 ) {\n            const { drizzle }   = this.props,\n                  web3          = drizzle.web3,\n                  esEmprendedor = trabajo.emprendedor === this.obtenerDireccion(),\n                  acciones      = [];\n\n            let insignia         = null,\n                estado           = null,\n                permitirCancelar = false;\n\n            if ( ! trabajo.emprendedor ) {\n              estado = 'cancelado';\n              insignia = 'danger';\n            } else if ( trabajo.ofertaElegida == -1 ) {\n              estado = 'abierto';\n              insignia = 'primary';\n\n              if ( esEmprendedor ) {\n                if ( trabajo.ofertas.length ) {\n                  acciones.push( <button className=\"btn btn-primary\" data-target=\"#ofertas\" data-toggle=\"modal\" onClick={ () => this.setState( { trabajoElegido : trabajo } ) }>Ver ofertas</button> );\n                }\n              } else {\n                acciones.push( <button className=\"btn btn-primary\" data-target=\"#oferta\" data-toggle=\"modal\" onClick={ () => this.setState( { trabajoElegido : trabajo } ) }>Hacer oferta</button> );\n              }\n\n              permitirCancelar = true;\n            } else {\n              if ( trabajo.balance == 0 ) {\n                estado = 'terminado';\n                insignia = 'success';\n              } else {\n                if ( trabajo.balance == -1 ) {\n                  estado = 'esperando';\n                  insignia = 'secondary';\n\n                  permitirCancelar = true;\n                } else if ( trabajo.balance > 0 ) {\n                  estado = 'cerrado';\n                  insignia = 'warning';\n                }\n\n                if (\n                  trabajo.ofertaElegida !== -1\n                  && trabajo.ofertas[ trabajo.ofertaElegida ]\n                  && trabajo.ofertas[ trabajo.ofertaElegida ].fechaFinalizacion * 1000 <= Date.now() ) {\n                  acciones.push( <button className=\"btn btn-success\" onClick={ ( e ) => { e.preventDefault(); this.solicitarCierre( trabajo.direccion ); } } disabled={ estado === 'terminado' }>Solicitar cierre</button> );\n                }\n\n                permitirCancelar = true;\n              }\n            }\n\n            if (\n              permitirCancelar\n              && esEmprendedor\n            ) {\n              acciones.push( <button className=\"btn btn-danger\" onClick={ ( e ) => { e.preventDefault(); this.cancelar( trabajo.direccion ); } }>Cancelar</button> );\n            }\n\n            salida = <tr key={ i }>\n              <td className=\"align-middle\"><code>{ trabajo.direccion }</code></td>\n              <td className=\"align-middle text-center\"><code>{ trabajo.emprendedor }</code></td>\n              <td className=\"align-middle text-center\">{ trabajo.descripcion }</td>\n              <td className=\"align-middle text-center\"><span className={ 'badge text-uppercase badge-' + insignia }>{ estado }</span></td>\n              <td className=\"align-middle text-nowrap text-right\">{ acciones.map( ( accion, i ) => <span key={ i }>{ i ? ' ' : '' }{ accion }</span> ) }</td>\n            </tr>;\n          }\n\n          return salida;\n        } ) }\n        </tbody>\n      </table> : <div className=\"alert alert-warning\">No hay trabajos cargados aún</div> }\n\t\t\t<div className=\"modal\" id=\"oferta\" tabIndex=\"-1\" role=\"dialog\">\n\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\n\t\t\t\t\t<form className=\"modal-content\" onSubmit={ e => {\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tconst form = e.target;\n\n\t\t\t\t\t\tthis.ofertar(\n              this.state.trabajoElegido.direccion,\n\t\t\t\t\t\t\tform.precio.value,\n\t\t\t\t\t\t\tform.definicionPruebas.value,\n\t\t\t\t\t\t\tform.descripcion.value,\n\t\t\t\t\t\t\tDate.parse( form.fechaFinalizacion.value ) / 1000\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t$( '#oferta' ).modal( 'hide' ).find( ':input' ).val( '' );\n\t\t\t\t\t} }>\n\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t<h5 className=\"modal-title\">Hacer oferta</h5>\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Cerrar\">\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<input type=\"number\" min=\"0\" name=\"precio\" className=\"form-control\" placeholder=\"Precio\" required autoFocus />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<textarea name=\"definicionPruebas\" placeholder=\"Definición de pruebas\" className=\"form-control\"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<textarea name=\"descripcion\" placeholder=\"Descripción\" className=\"form-control\"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<input type=\"date\" name=\"fechaFinalizacion\" className=\"form-control\" placeholder=\"Fecha de finalización\" required />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"modal-footer\">\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">Enviar</button>\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t\t<div className=\"modal\" id=\"ofertas\" tabIndex=\"-1\" role=\"dialog\">\n\t\t\t\t<div className=\"modal-dialog modal-xl\" role=\"document\">\n\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ofertas</h5>\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Cerrar\">\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"modal-body\">\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\">Trabajador</th>\n                    <th scope=\"col\" className=\"text-center\">Precio</th>\n                    <th scope=\"col\" className=\"text-center\">Definición de pruebas</th>\n                    <th scope=\"col\" className=\"text-center\">Descripción</th>\n                    <th scope=\"col\" className=\"text-center\">Fecha de finalización</th>\n                    <th scope=\"col\" className=\"text-right\">Acciones</th>\n                  </tr>\n                </thead>\n                <tbody>\n                { this.state.trabajoElegido ? this.state.trabajoElegido.ofertas.map( ( oferta, i ) => {\n                  return <tr key={ i }>\n                    <td className=\"align-middle\"><code>{ oferta.trabajador }</code></td>\n                    <td className=\"align-middle text-center\"><strong>{ oferta.precio } wei</strong></td>\n                    <td className=\"align-middle text-center\">{ oferta.definicionPruebas }</td>\n                    <td className=\"align-middle text-center\">{ oferta.descripcion }</td>\n                    <td className=\"align-middle text-center\">{ new Date( parseInt( oferta.fechaFinalizacion ) * 1000 ).toLocaleString() }</td>\n                    <td className=\"align-middle text-right\"><a className=\"btn btn-primary\" onClick={ e => {\n                      e.preventDefault();\n\n                      const { trabajoElegido  } = this.state,\n                            oferta              = trabajoElegido.ofertas[ i ];\n\n                      this.aceptarOferta( trabajoElegido.direccion, i, oferta.precio );\n                      \n                      $( '#ofertas' ).modal( 'hide' );\n                    } }>Aceptar oferta</a></td>\n                  </tr>\n                } ) : null }\n                </tbody>\n              </table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"modal-footer\">\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div> \n    </div>\n    ;\n  }\n}\n","import React from 'react';\nimport ComponenteDrizzle from './ComponenteDrizzle';\nimport CrearTrabajo from './CrearTrabajo';\nimport ListarTrabajos from './ListarTrabajos';\n\nexport default class App extends ComponenteDrizzle {\n  constructor( props ) {\n    super( props );\n\n    this.state.pantalla = null;\n  }\n\n  cargarPantalla( pantalla ) {\n    this.setState( { pantalla } );\n  }\n\n  pantalla() {\n    const menu = [\n      {\n        titulo   : 'Crear trabajo',\n        pantalla : CrearTrabajo\n      },\n      {\n        titulo   : 'Listar trabajos',\n        pantalla : ListarTrabajos\n      }\n    ];\n\n    return <div className=\"container\">\n      <h1>Bolsa de trabajo v0.1</h1>\n      <ul className=\"nav nav-tabs\">\n        { menu.map( ( item, i ) => <li key={ i } className=\"nav-item\">\n          <a className={ 'nav-link' + ( this.state.pantalla == item.pantalla ? ' active' : '' ) } href=\"#\" onClick={ ( e ) => { e.preventDefault(); this.cargarPantalla( item.pantalla ) } }>{ item.titulo }</a>\n          </li>\n        ) }\n      </ul>\n      <div className=\"mt-3\">{ this.state.pantalla ? React.createElement( this.state.pantalla, { drizzle : this.props.drizzle } ) : null }</div>\n    </div>\n    ;\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Drizzle, generateStore } from '@drizzle/store';\nimport BolsaDeTrabajo from './contracts/BolsaDeTrabajo.json';\n\nconst drizzle = new Drizzle( {\n  contracts: [ BolsaDeTrabajo ],\n  web3: {\n    fallback: {\n      type: 'ws',\n      url: 'ws://127.0.0.1:7545',\n    },\n  },\n} ),\n      root = document.getElementById( 'root' );\n\nif ( root ) {\n  ReactDOM.render( <App drizzle={drizzle} />, root );\n}\n\nif ( window.ethereum ) {\n  window.ethereum.on( 'networkChanged', () => {\n    window.location.reload();\n  } );\n\n  window.ethereum.on( 'accountsChanged', () => {\n    window.location.reload();\n  } );\n}\n"],"sourceRoot":""}